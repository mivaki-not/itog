# План автоматизации тестирования формы покупки тура "Путешествие дня"

Объект тестирования Веб-сервис по покупке тура двумя способами:

1. Дебетовой картой
2. Выдачей кредита по реквизитам банковской карты

**Перечень автоматизируемых сценариев**

*Позитивные сценарии:*
1. Успешная оплата по дебетовой карте (валидные данные)

   Шаги:
 - Ввести валидный номер карты (4444 4444 4444 4441)

 - Ввести валидный месяц (текущий + 1 месяц)

- Ввести валидный год (текущий + 1 год)

- Ввести валидное имя владельца (латинскими буквами, например "IVAN IVANOV")

- Ввести валидный CVV (3 цифры)

- Нажать кнопку "Продолжить"

Ожидаемый результат: Появляется уведомление "Успешно" и сумма транзакции соответствует стоимости тура

2. Успешная выдача кредита по данным банковской карты (валидные данные)

   Шаги:

- Ввести валидный номер карты (4444 4444 4444 4441)

- Ввести валидный месяц (текущий + 1 месяц)

- Ввести валидный год (текущий + 1 год)

- Ввести валидное имя владельца (латинскими буквами, например "IVAN IVANOV")

- Ввести валидный CVV (3 цифры)

- Нажать кнопку "Продолжить"

Ожидаемый результат: Появляется уведомление "Успешно", данные кредитной заявки соответствуют введенным данным

3. Оплата с использованием карты со статусом "APPROVED"

    Шаги:

- Ввести номер карты 4444 4444 4444 4441

- Ввести месяц 01 (январь)

- Ввести год (текущий + 5 лет)

- Ввести имя владельца из 26 символов (максимально допустимое)

- Ввести CVV 999

- Нажать кнопку "Продолжить"

Ожидаемый результат: Появляется уведомление "Успешно", в СУБД корректно сохраняются все введенные данные, транзакция проходит успешно

4. Кредит с использованием карты со статусом "APPROVED"

   Шаги:

- Ввести номер карты 4444 4444 4444 4441

- Ввести месяц 12 (декабрь)

- Ввести год (текущий + 3 года)

- Ввести имя владельца в разных форматах:
"IVAN IVANOV" (обычный),
"ivan ivanov" (нижний регистр),
"Ivan Ivanov" (с заглавными буквами),
"IVANOV IVAN" (обратный порядок)
- Ввести CVV 123

- Нажать кнопку "Продолжить" для каждого варианта

Ожидаемый результат: Для всех форматов имени появляется уведомление "Успешно", в СУБД корректно сохраняются все варианты имен, кредитная заявка одобряется для всех вариантов


*Негативные сценарии:*
1. Оплата с использованием карты со статусом "DECLINED"

   Шаги:

- Ввести номер карты 4444 4444 4444 4442

- Ввести валидный месяц (текущий + 1 месяц)

- Ввести валидный год (текущий + 1 год)

- Ввести валидное имя владельца ("IVAN IVANOV")

- Ввести валидный CVV (123)

- Нажать кнопку "Продолжить"

Ожидаемый результат: Появляется уведомление "Ошибка", транзакция не проходит.

2. Кредит с использованием карты со статусом "DECLINED"
   
   Шаги:

- Ввести номер карты 4444 4444 4444 4442

- Ввести валидный месяц (текущий + 1 месяц)

- Ввести валидный год (текущий + 1 год)

- Ввести валидное имя владельца ("IVAN IVANOV")

- Ввести валидный CVV (123)

- Нажать кнопку "Продолжить"

Ожидаемый результат: Появляется уведомление "Ошибка", кредитная заявка отклонена.

3. Оплата с пустыми полями формы

   Шаги:

   Для каждого поля формы выполнить:

- Оставить поле пустым

- Заполнить остальные поля валидными данными

- Нажать кнопку "Продолжить"

Ожидаемый результат: Для каждого пустого поля появляется сообщение "Поле обязательно для заполнения", форма не отправляется, в СУБД не появляется новых записей

4. Оплата с невалидным номером карты (короткий/длинный номер)

   Шаги:

   Проверить различные невалидные варианты:

- Короткий номер (15 цифр): 4444 4444 4444 444

- Длинный номер (17 цифр): 4444 4444 4444 44411

- Номер с буквами: 4444 4444 4444 abc1

- Номер со спецсимволами: 4444-4444-4444-4441

- Несуществующий номер: 0000 0000 0000 0000

- Номер из всех нулей кроме последней цифры: 0000 0000 0000 0001

Ожидаемый результат: Для каждого невалидного номера появляется сообщение "Неверный формат", форма не отправляется, в СУБД не появляется новых записей
5. Оплата с истекшим сроком действия карты (различные сценарии)
   
   Шаги:
   
   Проверить различные варианты:

- Прошедший месяц текущего года (05/23)

- Прошедший год (12/22)

- Нулевой месяц (00/25)

- Несуществующий месяц (13/25)

- Год в далеком прошлом (12/2000)

- Год в далеком будущем (12/99)

Ожидаемый результат: Для прошедших дат появляется сообщение "Истек срок действия карты". Для несуществующих месяцев появляется сообщение "Неверно указан срок действия карты". Для неверных форматов года появляется сообщение "Неверный формат", форма не отправляется, в СУБД не появляется новых записей.

6. Оплата с невалидным CVV (различные сценарии).

   Шаги:

   Проверить различные варианты:

- Короткий CVV (2 цифры): 12

- Длинный CVV (4 цифры): 1234

- CVV с буквами: abc

- CVV со спецсимволами: 12#

- CVV из всех нулей: 000

- Пустое поле CVV

Ожидаемый результат: Для неверной длины появляется сообщение "Неверный формат". Для нечисловых значений появляется сообщение "Поле должно содержать только цифры", форма не отправляется,в СУБД не появляется новых записей

7. Оплата с невалидным владельцем (различные варианты)

   Шаги:

   Проверить различные невалидные варианты:

- Кириллица: "ИВАН ИВАНОВ"

- Цифры в имени: "IVAN123 IVANOV"

- Спецсимволы: "IVAN@ IVANOV"

- Очень длинное имя (более 26 символов)

- Одно слово без фамилии: "IVAN"

- Пустое поле владельца

Ожидаемый результат:

Для кириллицы появляется сообщение "Только латинские буквы". Для цифр и спецсимволов появляется сообщение "Неверный формат". Для слишком длинного имени появляется сообщение "Превышена максимальная длина". Форма не отправляется, в СУБД не появляется новых записей.

**Перечень используемых инструментов**

1. **Java** - основной язык для написания автотестов
2. **Selenide** - фреймворк для UI-тестирования (простота использования, встроенные ожидания)
3. **JUnit 5** - фреймворк для организации тестов
4. **Gradle** - система сборки (гибкость, производительность)
5. **Allure** - фреймворк для отчетов (наглядность, интеграция с CI)
6. **Docker** - контейнеризация СУБД и эмулятора банковских сервисов
7. **MySQL/PostgreSQL** - СУБД для проверки сохранения данных
8. **Lombok** - для уменьшения boilerplate кода
9. **Faker** - генерация тестовых данных

**Возможные риски**

1. Изменение структуры DOM на веб-странице
2. Изменение API банковских сервисов
3. Проблемы с запуском/настройкой окружения (Docker, СУБД)
4. Ограниченное время на реализацию
5. Нестабильность работы эмулятора банковских сервисов
